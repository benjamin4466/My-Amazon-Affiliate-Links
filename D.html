
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Open in Browser Hint</title>
<style>
  :root{
    --bg:#000;
    --text:#fff;
    --accent:#ffd700; /* yellow */
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{background:var(--bg);color:var(--text);display:flex;align-items:center;justify-content:center;}
  /* Overlay shown only when needed */
  .hint-overlay{
    position:fixed;inset:0;background:rgba(0,0,0,0.98);z-index:9999;display:flex;flex-direction:column;
    align-items:center;justify-content:space-between;padding:28px;
  }
  .message{
    margin-top:60px;text-align:center;max-width:680px;
  }
  .message h1{font-size:20px;margin:0 0 10px;color:var(--text);line-height:1.2}
  .message p{margin:0;font-size:15px;color:#ddd}
  /* Animated arrow in top-right */
  .arrow-wrap{
    position:fixed;top:14px;right:14px;width:72px;height:72px;pointer-events:none;z-index:10000;
    display:flex;align-items:center;justify-content:center;
  }
  .arrow{
    width:56px;height:56px;display:block;
    transform-origin:center;
    animation:arrow-nudge 1.6s ease-in-out infinite;
    filter:drop-shadow(0 6px 10px rgba(0,0,0,0.6));
  }
  @keyframes arrow-nudge{
    0%{transform:translate(0,0) rotate(-30deg) scale(1)}
    40%{transform:translate(-6px,-10px) rotate(-30deg) scale(1.05)}
    70%{transform:translate(0,-6px) rotate(-30deg) scale(1.02)}
    100%{transform:translate(0,0) rotate(-30deg) scale(1)}
  }
  /* three dots hint bubble (subtle) */
  .dots-hint{
    position:fixed;top:24px;right:24px;z-index:10001;font-size:12px;color:#111;
    background:var(--accent);padding:6px 8px;border-radius:10px;font-weight:600;box-shadow:0 6px 14px rgba(0,0,0,0.4);
  }

  /* bottom CTA button */
  .cta-wrap{width:100%;display:flex;justify-content:center;padding-bottom:40px}
  .open-btn{
    background:var(--accent);color:#111;border:none;padding:14px 22px;border-radius:999px;font-weight:700;
    font-size:16px;cursor:pointer;box-shadow:0 6px 14px rgba(0,0,0,0.5);
  }
  .open-btn:active{transform:translateY(1px)}
  /* small close text */
  .small-close{position:fixed;top:18px;left:18px;color:#bbb;font-size:13px;cursor:pointer;z-index:10002}
  /* Responsive tweaks */
  @media (max-width:420px){
    .message h1{font-size:18px}
    .dots-hint{font-size:11px;top:20px;right:18px}
  }
</style>
</head>
<body>

<!-- Main content (kept minimal — page background is black per request) -->
<main aria-hidden="true" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;">
  <!-- You can put fallback content for non-TikTok visitors here -->
  <div style="text-align:center;color:#999">
    <p style="font-size:16px">Welcome — content available below.</p>
  </div>
</main>

<!-- Overlay (hidden by default; shown by JS when TikTok UA detected) -->
<div id="hintOverlay" class="hint-overlay" style="display:none">
  <div style="width:100%;display:flex;justify-content:space-between;align-items:center;">
    <div class="small-close" id="closeBtn" title="Close hint">✕</div>
    <div class="dots-hint">Three dots</div>
  </div>

  <div class="message" role="dialog" aria-labelledby="hintTitle" aria-describedby="hintDesc">
    <h1 id="hintTitle">Open in browser to continue</h1>
    <p id="hintDesc">If you opened this page from TikTok, please <strong>click the three dots</strong> in the top-right and choose <strong>"Open in browser"</strong> (or "Open in Chrome") to continue. Then tap the button below to proceed.</p>
  </div>

  <div class="cta-wrap">
    <button id="openBtn" class="open-btn" aria-label="Open in browser">Open in browser</button>
  </div>
</div>

<!-- Animated arrow SVG -->
<div class="arrow-wrap" aria-hidden="true">
  <!-- simple arrow pointing up-right (yellow) -->
  <svg class="arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" >
    <path d="M5 19L19 5" stroke="#111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M9 5h10v10" stroke="#ffd700" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="19" cy="5" r="3" fill="#ffd700" stroke="#111" stroke-width="1"/>
  </svg>
</div>

<script>
/*
  Configuration: change this to the actual target link provided.
  Using the link you gave:
*/
const TARGET_URL = "https://to.mysocial.io/s/jzyWkip-P";

/* Detect TikTok in-app browser (common UA substrings) */
function isTikTokBrowser() {
  const ua = navigator.userAgent || navigator.vendor || window.opera || "";
  const s = ua.toLowerCase();
  return s.includes("tiktok") || s.includes("musically") || s.includes("com.zhiliaoapp") || s.includes("tiktokembedded");
}

/* Attempt to open externally:
   - On Android: use intent:// which requests Chrome (or system handler)
   - On iOS: try googlechrome:// scheme; fallback to regular https
   Note: behavior depends on device and installed apps and the host app (TikTok) allowance.
*/
function openInExternalBrowser(url) {
  const ua = navigator.userAgent || "";
  const isAndroid = /android/i.test(ua);
  const isIOS = /iphone|ipad|ipod/i.test(ua);

  if (isAndroid) {
    try {
      // build intent URL: browser_fallback_url must be encoded
      const fallback = encodeURIComponent(url);
      const intentUrl = url.replace(/^https?:\/\//, 'intent://') + '#Intent;package=com.android.chrome;scheme=https;S.browser_fallback_url=' + fallback + ';end';
      // navigate
      window.location.href = intentUrl;
      // also open fallback after a short delay as safety
      setTimeout(() => { window.location.href = url; }, 800);
      return;
    } catch (e) {
      // fallback
      window.location.href = url;
      return;
    }
  }

  if (isIOS) {
    // Try Google Chrome custom scheme for https (googlechromes), then fallback to default https
    const withoutProtocol = url.replace(/^https?:\/\//, '');
    const chromeScheme = 'googlechromes://' + withoutProtocol;
    // try to open chrome; if it fails, fallback to url
    const start = Date.now();
    window.location = chromeScheme;
    setTimeout(function() {
      // if time difference small, handler likely failed — go to fallback
      if (Date.now() - start < 1200) {
        window.location = url;
      }
    }, 900);
    return;
  }

  // Desktop or unknown: open new tab
  try {
    window.open(url, '_blank', 'noopener');
  } catch (e) {
    window.location.href = url;
  }
}

/* UI wiring */
document.addEventListener('DOMContentLoaded', function(){
  const overlay = document.getElementById('hintOverlay');
  const openBtn = document.getElementById('openBtn');
  const closeBtn = document.getElementById('closeBtn');

  if (isTikTokBrowser()) {
    overlay.style.display = 'flex';
  } else {
    // if not from TikTok, keep overlay hidden (but you may still want the CTA visible)
    overlay.style.display = 'none';
  }

  openBtn.addEventListener('click', function(e){
    e.preventDefault();
    openInExternalBrowser(TARGET_URL);
  });

  closeBtn.addEventListener('click', function(){
    document.getElementById('hintOverlay').style.display = 'none';
  });

  // Accessibility: allow pressing ESC to close overlay
  document.addEventListener('keydown', function(ev){
    if (ev.key === 'Escape') {
      overlay.style.display = 'none';
    }
  });
});
</script>

</body>
</html>

اضافی نوٹس / tips (مختصر):

TikTok اور دیگر in-app browsers اپنی security پالیسیز بدل سکتے ہیں — اس لیے کہیں کہیں button click کے باوجود app external browser کھولنے سے منع کر سکتا ہے۔ یہ code best effort طریقہ ہے (Android intent سب سے مؤثر ہوتا ہے)۔

اگر آپ ہمیشہ Chrome میں کھولنا چاہیں تو user کو یہ بتا سکتے ہیں کہ Chrome default browser بنائیں یا "Open in browser" منتخب کریں۔

چاہیں تو میں اس page کو اردو پیغام/ڈیزائن کے ساتھ اور بھی بہتر کر کے دے دوں (مثلاً 3-dot icon animation, یا فارسی/اردو متن) — بتائیے اگر مزید tweak چاہیے۔


چاہیں تو میں وہی کوڈ آپ کے لیے ready-to-upload فائل میں بنا کر دوں یا کسی اضافی language/visual tweak کر دوں۔

